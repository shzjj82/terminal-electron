# TODO 列表

## 数据管理功能

### ✅ 已完成
- [x] **data-loading-1**: 创建数据管理服务，根据登录状态选择数据源
- [x] **data-loading-2**: 修改各个 store 的初始化逻辑，支持从服务端加载数据
- [x] **data-loading-3**: 在应用启动时调用数据管理服务
- [x] **data-loading-4**: 监听登录状态变化，动态切换数据源
- [x] **data-loading-5**: 添加手动刷新数据的功能
- [x] **data-loading-7**: 支持删除操作的同步逻辑
- [x] **data-loading-8**: 修改各个store的删除方法，支持云端同步
- [x] **data-loading-10**: 更新UI组件使用新的删除方法
- [x] **data-loading-11**: 支持编辑更新操作的同步逻辑

### 🔄 进行中
- [ ] **data-loading-12**: 测试完整的CRUD操作同步

### ⏳ 待处理
- [ ] **data-loading-6**: 添加数据加载状态显示 (已取消)
- [ ] **data-loading-9**: 添加批量删除和软删除支持 (已取消)

## 功能说明

### 数据同步逻辑
1. **已登录状态**：
   - 创建：先在本地创建，然后同步到云端
   - 读取：从服务端获取数据
   - 更新：先在本地更新，然后同步到云端
   - 删除：先删除云端数据，然后删除本地数据

2. **未登录状态**：
   - 所有操作仅在本地进行
   - 登录后会自动比对本地和服务端数据，同步删除操作

3. **登录状态切换**：
   - 登录：从服务端加载数据，并同步本地删除操作
   - 登出：清空数据，从本地重新加载

### 错误处理
- 云端操作失败时自动回退到本地操作
- 不影响用户的正常使用体验
- 提供详细的错误日志 
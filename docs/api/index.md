# API 文档

欢迎使用 Terminal Electron API 文档。本文档详细描述了所有可用的API端点、请求格式和响应结构。

## 基础信息

- **基础URL**: `http://localhost:3000` (开发环境)
- **认证方式**: JWT Bearer Token
- **内容类型**: `application/json`

## 认证

大部分API端点需要JWT认证。在请求头中包含以下格式的Authorization头：

```
Authorization: Bearer <your-jwt-token>
```

## API 端点概览

### 认证相关
- [用户注册](./auth.md#用户注册)
- [用户登录](./auth.md#用户登录)

### 服务器管理
- [获取服务器列表](./servers.md#获取服务器列表)
- [创建服务器](./servers.md#创建服务器)
- [获取单个服务器](./servers.md#获取单个服务器)
- [更新服务器](./servers.md#更新服务器)
- [删除服务器](./servers.md#删除服务器)
- [同步服务器数据](./servers.md#同步服务器数据)

### SSH密钥管理
- [获取密钥列表](./keys.md#获取密钥列表)
- [创建密钥](./keys.md#创建密钥)
- [获取单个密钥](./keys.md#获取单个密钥)
- [更新密钥](./keys.md#更新密钥)
- [删除密钥](./keys.md#删除密钥)
- [同步密钥数据](./keys.md#同步密钥数据)

### 端口转发管理
- [获取端口转发列表](./port-forwards.md#获取端口转发列表)
- [启动端口转发](./port-forwards.md#启动端口转发)
- [停止端口转发](./port-forwards.md#停止端口转发)
- [获取端口转发状态](./port-forwards.md#获取端口转发状态)
- [创建端口转发](./port-forwards.md#创建端口转发)
- [获取单个端口转发](./port-forwards.md#获取单个端口转发)
- [更新端口转发](./port-forwards.md#更新端口转发)
- [删除端口转发](./port-forwards.md#删除端口转发)
- [同步端口转发数据](./port-forwards.md#同步端口转发数据)

### 团队管理
- [创建团队](./teams.md#创建团队)
- [获取我的团队](./teams.md#获取我的团队)
- [获取团队详情](./teams.md#获取团队详情)
- [添加团队成员](./teams.md#添加团队成员)
- [更新成员角色](./teams.md#更新成员角色)
- [移除团队成员](./teams.md#移除团队成员)
- [加入团队](./teams.md#加入团队)
- [获取团队数据](./teams.md#获取团队数据)

### 数据管理
- [获取个人数据](./data.md#获取个人数据)
- [获取团队数据](./data.md#获取团队数据)

## 错误响应格式

所有API在发生错误时都会返回以下格式的响应：

```json
{
  "statusCode": 400,
  "message": "错误描述",
  "error": "Bad Request"
}
```

常见HTTP状态码：
- `200` - 请求成功
- `201` - 创建成功
- `400` - 请求参数错误
- `401` - 未认证
- `403` - 权限不足
- `404` - 资源不存在
- `500` - 服务器内部错误

## 分页和查询参数

对于列表接口，支持以下查询参数：

- `namespace` - 团队命名空间（可选，个人数据为null）
- `page` - 页码（可选，默认为1）
- `limit` - 每页数量（可选，默认为10）

## 数据同步

系统支持本地数据与服务器数据的双向同步：

1. **同步到服务器**: 将本地数据上传到服务器
2. **从服务器同步**: 从服务器下载数据到本地

每个资源都提供了 `sync` 端点用于数据同步操作。 